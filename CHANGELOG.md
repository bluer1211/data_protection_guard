# Data Protection Guard Plugin 版本變更日誌

本文件記錄 Data Protection Guard Plugin 的所有版本變更。

## [1.0.6] - 2025-08-20 17:00:00 CST

### 新增功能
- **資料庫日誌記錄**: 新增「記錄到資料庫」選項，可將違規事件記錄到資料庫以便查詢
- **自動清理功能**: 新增「自動清理天數」設定，可自動刪除超過指定天數的記錄
- **日誌檢視連結**: 在設定頁面新增「資料保護日誌」連結，方便直接檢視違規記錄
- **多語言支援**: 新增英文和繁體中文的完整語言支援

### 使用者介面改善
- 在設定頁面新增資料庫日誌記錄選項
- 新增自動清理天數設定欄位（1-365天）
- 新增直接連結到日誌檢視頁面的按鈕
- 改善設定頁面的佈局和使用者體驗

### 技術改進
- 新增資料庫日誌記錄功能
- 實作自動清理機制
- 完善多語言支援
- 優化設定頁面結構

## [1.0.5] - 2025-08-20 16:00:00 CST

### 修正
- **移除「未實作」標記**: 移除設定頁面中「阻擋違規提交」選項的「（未實作）」標記
- **功能確認**: 確認「阻擋違規提交」功能已完全實作並正常運作
- **使用者介面改善**: 清理設定頁面，移除誤導性的標記

## [1.0.4] - 2025-08-20 15:00:00 CST

### 變更
- **簡化個人資料偵測規則**: 將載入預設值的個人資料偵測規則從 10 個減少到 3 個
- **精簡預設設定**: 只保留核心的個人資料偵測規則（身分證號、電子郵件、手機號碼）
- **提升使用者體驗**: 減少預設規則數量，讓使用者更容易理解和自訂

## [1.0.3] - 2025-08-20 14:30:00 CST

### 變更
- **預設設定調整**: 將「記錄違規事件」的預設值改為不勾選（false）
- **一致性改進**: 確保「載入預設值」功能與預設設定一致
- **使用者體驗**: 減少預設的日誌檔案產生，降低系統負載

## [1.0.2] - 2025-08-20 12:05:00 CST

### 優化
- **敏感資料偵測模式優化**: 合併重複模式，從 11 個減少到 8 個
- **個人資料偵測模式優化**: 消除模式間重複偵測，提高精確度
- **性能提升**: 預計提升 20-25% 的偵測速度
- **重複消除**: 完全消除個人資料模式間的重複匹配

### 技術改進
- 合併網路協議模式：`(?:ftp|sftp|ssh)://[^\s]+`
- 合併認證資訊模式：統一密碼和 API 金鑰偵測
- 優化銀行帳號模式：排除手機號碼和身分證號重複
- 精確化護照號碼模式：排除身分證號格式
- 優化市話號碼模式：排除手機號碼重複

### 文檔
- 新增模式優化報告 (PATTERN_OPTIMIZATION_REPORT.md)
- 詳細記錄優化過程和效果

## [1.0.1] - 2025-08-20 11:40:05 CST

### 更新
- 更新作者資訊：Jason Liu (GitHub: @bluer1211)
- 更新 GitHub 連結：https://github.com/bluer1211/data_protection_guard
- 修正 README.md 中的作者資訊和安裝連結

## [1.0.0] - 2025-08-17

### 新增功能
- 完成插件初始化和功能驗證
- 新增完整的 Git 管理設定
- 新增初始化狀態報告和檢查清單
- 新增 Git 管理指南
- 更新 .gitignore 檔案

### 核心功能
- 機敏資料偵測功能
- 個人資料偵測功能
- 違規阻擋功能
- 日誌記錄功能
- 管理員設定介面

### 偵測規則
- FTP/SFTP/SSH 連接字串
- 密碼和 API 金鑰
- 內部 IP 位址
- 資料庫連接字串
- 私鑰和憑證內容
- 姓名格式
- 身分證號 (A123456789)
- 護照號碼
- 信用卡號
- 銀行帳號
- 電話號碼
- 電子郵件
- 出生日期
- 台灣地址

### 技術改進
- 使用 Extensions 命名約定
- 改善錯誤處理機制
- 優化日誌記錄格式
- 增強設定頁面功能

### 文檔
- 新增完整的 README.md
- 新增安裝指南
- 新增部署檢查清單
- 新增測試報告
- 新增各種修復報告

### 測試
- 完成功能驗證測試
- 通過身分證號偵測測試
- 通過違規阻擋測試
- 通過日誌記錄測試

### 配置
- 預設啟用所有偵測功能
- 設定適當的排除項目
- 配置權限和選單
- 設定本地化支援

---

## 版本命名規範

### 格式
`主版本號.次版本號.修訂號`

### 版本類型
- **主版本號**: 重大變更，可能不相容
- **次版本號**: 新功能，向後相容
- **修訂號**: 錯誤修復，向後相容

### 範例
- `1.0.0` - 第一個正式版本
- `1.1.0` - 新增功能
- `1.1.1` - 錯誤修復
- `2.0.0` - 重大變更

---

## 發布流程

### 1. 準備發布
- [ ] 更新版本號
- [ ] 更新 CHANGELOG.md
- [ ] 執行完整測試
- [ ] 檢查文檔完整性

### 2. 創建標籤
```bash
git tag -a v1.0.0 -m "版本 1.0.0 發布"
git push origin v1.0.0
```

### 3. 發布後清理
- [ ] 更新版本號為開發版本
- [ ] 提交版本更新
- [ ] 更新開發文檔

---

## 相容性

### Redmine 版本
- ✅ Redmine 6.0.6
- ✅ Rails 7.2.2.1

### Ruby 版本
- ✅ Ruby 3.x

### 資料庫
- ✅ MySQL 8.0
- ✅ PostgreSQL (預期支援)
- ✅ SQLite (預期支援)

---

## 已知問題

### 當前版本 (1.0.0)
- 無已知問題

### 已修復問題
- 修復 notes 欄位偵測問題
- 修復設定頁面顯示問題
- 修復路由配置問題
- 修復本地化翻譯問題

---

## 未來計劃

### 短期目標 (1.1.x)
- [ ] 新增更多偵測規則
- [ ] 改善效能
- [ ] 新增統計報表
- [ ] 支援更多資料庫

### 中期目標 (1.2.x)
- [ ] 新增 API 介面
- [ ] 支援批量檢查
- [ ] 新增通知功能
- [ ] 改善使用者介面

### 長期目標 (2.0.x)
- [ ] 支援自定義規則引擎
- [ ] 新增機器學習偵測
- [ ] 支援多語言
- [ ] 新增企業級功能

---

## 貢獻指南

### 提交變更
1. Fork 專案
2. 創建功能分支
3. 提交變更
4. 發起 Pull Request

### 提交訊息規範
```
類型(範圍): 簡短描述

詳細描述（可選）

相關問題: #123
```

### 類型
- `feat`: 新功能
- `fix`: 錯誤修復
- `docs`: 文檔更新
- `style`: 程式碼格式調整
- `refactor`: 重構
- `test`: 測試相關
- `chore`: 建置或輔助工具變動

---

## 聯絡資訊

### 開發團隊
- 專案維護者: Redmine Data Protection Team
- 聯絡方式: 透過 GitHub Issues

### 支援
- 問題回報: GitHub Issues
- 文檔: README.md
- 安裝指南: INSTALL.md

---

**最後更新**: 2025-08-17  
**當前版本**: 1.0.0  
**狀態**: 穩定發布
